<script lang="ts">
	import { inview, type ObserverEventDetails } from 'svelte-inview';
	import { Building, BriefcaseBusiness } from '@lucide/svelte';
	import Header from './Header.svelte';
	import Nav from './Nav.svelte';
	import Avatar from './Avatar.svelte';
	import Timeline from './Timeline.svelte';
	import Footer from './Footer.svelte';

	const inviewOptions = {
		rootMargin: '-50%'
	};

	let activeSection = $state<'sec-profile' | 'sec-job' | 'sec-blog'>('sec-profile');

	function onInviewEnter({ detail }: CustomEvent<ObserverEventDetails>) {
		activeSection = detail.node.id;
	}
</script>

<div class="space-y-4 py-8">
	<Header />
	<Nav {activeSection} />

	<div class="space-y-12 rounded-sm bg-white pt-12">
		<section
			id="sec-profile"
			class="flex gap-12 px-12"
			use:inview={inviewOptions}
			oninview_enter={onInviewEnter}
		>
			<Avatar />
			<div class="space-y-4">
				<div class="space-y-2">
					<h2 class="text-3xl">ã¬ã“ã™ã‘ ğŸŠ</h2>
					<ul class="inline-flex gap-4">
						<li class="inline-flex items-center gap-1">
							<Building size="1em" />
							<span>MIXI inc.</span>
						</li>
						<li class="inline-flex items-center gap-1">
							<BriefcaseBusiness size="1em" />
							<span>Software Engineer</span>
						</li>
					</ul>
				</div>
				<Timeline />
			</div>
		</section>

		<section
			id="sec-job"
			class="space-y-4 px-12"
			use:inview={inviewOptions}
			oninview_enter={onInviewEnter}
		>
			<h2 class="border-l-[0.25rem] border-sky-300 px-2 text-2xl">ã—ã”ã¨</h2>
			<p>ç¤¾å†…IDãƒ»æ±ºæ¸ˆåŸºç›¤ã‚„å‰æ‰•ã„å¼æ±ºæ¸ˆã‚¢ãƒ—ãƒªã®é–‹ç™ºã€é‹ç”¨ã«æºã£ã¦ã„ã¾ã™.</p>
			<ul>
				<li>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰</li>
				<li>ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰</li>
				<li>é–‹ç™ºç’°å¢ƒ</li>
			</ul>
		</section>

		<section
			id="sec-blog"
			class="space-y-4 px-12"
			use:inview={inviewOptions}
			oninview_enter={onInviewEnter}
		>
			<h2 class="border-l-[0.25rem] border-sky-300 px-2 text-2xl">ãƒ–ãƒ­ã‚°</h2>
			<ul>
				<li><a href="https://blog.nukosuke.com">æŠ€è¡“ãƒ–ãƒ­ã‚°</a></li>
			</ul>
		</section>

		<Footer />
	</div>
</div>
